/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/@turf/meta@6.5.0/dist/es/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{feature as e,lineString as t,isObject as r,point as n}from"../helpers@6.5.0/+esm.js";function o(e,t,r){if(null!==e)for(var n,i,u,a,l,s,c,g,f=0,y=0,h=e.type,p="FeatureCollection"===h,v="Feature"===h,d=p?e.features.length:1,P=0;P<d;P++){l=(g=!!(c=p?e.features[P].geometry:v?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var m=0;m<l;m++){var w=0,M=0;if(null!==(a=g?c.geometries[m]:c)){s=a.coordinates;var b=a.type;switch(f=!r||"Polygon"!==b&&"MultiPolygon"!==b?0:1,b){case null:break;case"Point":if(!1===t(s,y,P,w,M))return!1;y++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<s.length;n++){if(!1===t(s[n],y,P,w,M))return!1;y++,"MultiPoint"===b&&w++}"LineString"===b&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<s.length;n++){for(i=0;i<s[n].length-f;i++){if(!1===t(s[n][i],y,P,w,M))return!1;y++}"MultiLineString"===b&&w++,"Polygon"===b&&M++}"Polygon"===b&&w++;break;case"MultiPolygon":for(n=0;n<s.length;n++){for(M=0,i=0;i<s[n].length;i++){for(u=0;u<s[n][i].length-f;u++){if(!1===t(s[n][i][u],y,P,w,M))return!1;y++}M++}w++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===o(a.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(e,t,r,n){var i=r;return o(e,(function(e,n,o,u,a){i=0===n&&void 0===r?e:t(i,e,n,o,u,a)}),n),i}function u(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function a(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function l(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function s(e,t,r){var n=r;return l(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function c(e){var t=[];return o(e,(function(e){t.push(e)})),t}function g(e,t){var r,n,o,i,u,a,l,s,c,g,f=0,y="FeatureCollection"===e.type,h="Feature"===e.type,p=y?e.features.length:1;for(r=0;r<p;r++){for(a=y?e.features[r].geometry:h?e.geometry:e,s=y?e.features[r].properties:h?e.properties:{},c=y?e.features[r].bbox:h?e.bbox:void 0,g=y?e.features[r].id:h?e.id:void 0,u=(l=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,o=0;o<u;o++)if(null!==(i=l?a.geometries[o]:a))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,f,s,c,g))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],f,s,c,g))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,s,c,g))return!1;f++}}function f(e,t,r){var n=r;return g(e,(function(e,o,i,u,a){n=0===o&&void 0===r?e:t(n,e,o,i,u,a)})),n}function y(t,r){g(t,(function(t,n,o,i,u){var a,l=null===t?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==r(e(t,o,{bbox:i,id:u}),n,0)&&void 0}switch(l){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var s=0;s<t.coordinates.length;s++){var c=t.coordinates[s];if(!1===r(e({type:a,coordinates:c},o),n,s))return!1}}))}function h(e,t,r){var n=r;return y(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function p(e,r){y(e,(function(e,n,i){var u=0;if(e.geometry){var a=e.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var l,s=0,c=0,g=0;return!1!==o(e,(function(o,a,f,y,h){if(void 0===l||n>s||y>c||h>g)return l=o,s=n,c=y,g=h,void(u=0);var p=t([l,o],e.properties);if(!1===r(p,n,i,h,u))return!1;u++,l=o}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return p(e,(function(e,i,u,a,l){n=!1===o&&void 0===r?e:t(n,e,i,u,a,l),o=!0})),n}function d(e,r){if(!e)throw new Error("geojson is required");y(e,(function(e,n,o){if(null!==e.geometry){var i=e.geometry.type,u=e.geometry.coordinates;switch(i){case"LineString":if(!1===r(e,n,o,0,0))return!1;break;case"Polygon":for(var a=0;a<u.length;a++)if(!1===r(t(u[a],e.properties),n,o,a))return!1}}}))}function P(e,t,r){var n=r;return d(e,(function(e,o,i,u){n=0===o&&void 0===r?e:t(n,e,o,i,u)})),n}function m(e,n){if(!r(n=n||{}))throw new Error("options is invalid");var o,i=n.featureIndex||0,u=n.multiFeatureIndex||0,a=n.geometryIndex||0,l=n.segmentIndex||0,s=n.properties;switch(e.type){case"FeatureCollection":i<0&&(i=e.features.length+i),s=s||e.features[i].properties,o=e.features[i].geometry;break;case"Feature":s=s||e.properties,o=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=e;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var c=o.coordinates;switch(o.type){case"Point":case"MultiPoint":return null;case"LineString":return l<0&&(l=c.length+l-1),t([c[l],c[l+1]],s,n);case"Polygon":return a<0&&(a=c.length+a),l<0&&(l=c[a].length+l-1),t([c[a][l],c[a][l+1]],s,n);case"MultiLineString":return u<0&&(u=c.length+u),l<0&&(l=c[u].length+l-1),t([c[u][l],c[u][l+1]],s,n);case"MultiPolygon":return u<0&&(u=c.length+u),a<0&&(a=c[u].length+a),l<0&&(l=c[u][a].length-l-1),t([c[u][a][l],c[u][a][l+1]],s,n)}throw new Error("geojson is invalid")}function w(e,t){if(!r(t=t||{}))throw new Error("options is invalid");var o,i=t.featureIndex||0,u=t.multiFeatureIndex||0,a=t.geometryIndex||0,l=t.coordIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":i<0&&(i=e.features.length+i),s=s||e.features[i].properties,o=e.features[i].geometry;break;case"Feature":s=s||e.properties,o=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=e;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var c=o.coordinates;switch(o.type){case"Point":return n(c,s,t);case"MultiPoint":return u<0&&(u=c.length+u),n(c[u],s,t);case"LineString":return l<0&&(l=c.length+l),n(c[l],s,t);case"Polygon":return a<0&&(a=c.length+a),l<0&&(l=c[a].length+l),n(c[a][l],s,t);case"MultiLineString":return u<0&&(u=c.length+u),l<0&&(l=c[u].length+l),n(c[u][l],s,t);case"MultiPolygon":return u<0&&(u=c.length+u),a<0&&(a=c[u].length+a),l<0&&(l=c[u][a].length-l),n(c[u][a][l],s,t)}throw new Error("geojson is invalid")}export{c as coordAll,o as coordEach,i as coordReduce,l as featureEach,s as featureReduce,w as findPoint,m as findSegment,y as flattenEach,h as flattenReduce,g as geomEach,f as geomReduce,d as lineEach,P as lineReduce,u as propEach,a as propReduce,p as segmentEach,v as segmentReduce};export default null;
